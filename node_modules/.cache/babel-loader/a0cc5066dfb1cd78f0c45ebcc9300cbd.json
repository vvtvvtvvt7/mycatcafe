{"ast":null,"code":"import _slicedToArray from \"/home/vladimir/react/mycatcafe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/vladimir/react/mycatcafe/src/components/blocks/buy/buy.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Form, Label, Li, Ul } from \"@src/components/styled\";\nimport Button from \"@src/components/ui/button/button\";\nimport { TitleSize } from \"@src/components/ui/title/title\";\nimport RadioButton from \"@src/components/ui/radio-button/radio-button\";\nimport { Accordion } from \"@src/components/ui/accordion/accordion\";\nimport { StyledSection, Price, AccordionText, RadioLabelForTime, FormItem, StyleTitle, RadioLabelForType } from \"./styles\"; // страница покупки\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Buy(_ref) {\n  _s();\n\n  var _this = this;\n\n  var _ref$buyOptions = _ref.buyOptions,\n      _ref$buyOptions$durat = _ref$buyOptions.durationOptions,\n      durationOptions = _ref$buyOptions$durat === void 0 ? [] : _ref$buyOptions$durat,\n      _ref$buyOptions$ticke = _ref$buyOptions.ticketOptions,\n      ticketOptions = _ref$buyOptions$ticke === void 0 ? [] : _ref$buyOptions$ticke;\n  var canBuy = durationOptions.length && ticketOptions.length;\n\n  var _useState = useState(durationOptions[0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      duration = _useState2[0],\n      setDuration = _useState2[1];\n\n  var _useState3 = useState(ticketOptions[0].id),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectType = _useState4[0],\n      setSelectType = _useState4[1];\n\n  var type = ticketOptions.find(function (option) {\n    return option.id === selectType;\n  });\n  var price = duration * (type ? type.price : 0); // преобразуем ticketOptions в данные для акардиона\n\n  var accordionContent = canBuy && ticketOptions.map(function (option) {\n    return {\n      id: option.id,\n      title: /*#__PURE__*/_jsxDEV(RadioButton, {\n        labelComponent: RadioLabelForType,\n        selectValue: selectType,\n        value: option.id,\n        text: option.title,\n        onChange: function onChange(el) {\n          setSelectType(Number(el.target.value));\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, _this),\n      description: option.description\n    };\n  });\n\n  var handleBuy = function handleBuy() {\n    alert(\"\\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0443.\\n              \\u0412\\u044B \\u043F\\u0440\\u0438\\u043E\\u0431\\u0440\\u0435\\u043B\\u0438 \\u0431\\u0438\\u043B\\u0435\\u0442 \\u043A\\u043B\\u0430\\u0441\\u0441\\u0430: \".concat(type.title, \".\\n              \\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u043F\\u043E\\u0441\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F(\\u0447\\u0430\\u0441\\u043E\\u0432): \").concat(duration, \".\\n              \\u0426\\u0435\\u043D\\u0430 \\u0431\\u0438\\u043B\\u0435\\u0442\\u0430: \").concat(price, \" \\u0440\\u0443\\u0431.\"));\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledSection, {\n    children: [/*#__PURE__*/_jsxDEV(StyleTitle, {\n      level: 1,\n      size: TitleSize.BIG,\n      children: \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C \\u0431\\u0438\\u043B\\u0435\\u0442\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), canBuy ? /*#__PURE__*/_jsxDEV(Form, {\n      $width: 540,\n      children: [/*#__PURE__*/_jsxDEV(FormItem, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          $margin: 12,\n          children: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C (\\u0447\\u0430\\u0441\\u043E\\u0432)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Ul, {\n          $isGridList: true,\n          $indent: 12,\n          $align: \"left\",\n          children: durationOptions.map(function (option) {\n            return /*#__PURE__*/_jsxDEV(Li, {\n              children: /*#__PURE__*/_jsxDEV(RadioButton, {\n                labelComponent: RadioLabelForTime,\n                selectValue: duration,\n                value: option,\n                text: option,\n                onChange: function onChange(el) {\n                  setDuration(Number(el.target.value));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, _this)\n            }, option, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n        $bottom: 22,\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          $margin: 12,\n          children: \"\\u0422\\u0438\\u043F \\u0431\\u0438\\u043B\\u0435\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Accordion, {\n          textComponent: AccordionText,\n          content: accordionContent,\n          isHtml: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        $small: true,\n        $margin: 6,\n        children: \"\\u0426\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Price, {\n        children: [price, \" \\u0440\\u0443\\u0431.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        minWidth: 460,\n        onClick: handleBuy,\n        children: \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C \\u0431\\u0438\\u043B\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u041F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0430 \\u0431\\u0438\\u043B\\u0435\\u0442\\u043E\\u0432 \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u043E \\u043D\\u0435 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Buy, \"P5cRnQs58ufNhdMFr/ufiPMbV30=\");\n\n_c = Buy;\nexport default Buy;\n\nvar _c;\n\n$RefreshReg$(_c, \"Buy\");","map":{"version":3,"sources":["/home/vladimir/react/mycatcafe/src/components/blocks/buy/buy.jsx"],"names":["React","useState","Form","Label","Li","Ul","Button","TitleSize","RadioButton","Accordion","StyledSection","Price","AccordionText","RadioLabelForTime","FormItem","StyleTitle","RadioLabelForType","Buy","buyOptions","durationOptions","ticketOptions","canBuy","length","duration","setDuration","id","selectType","setSelectType","type","find","option","price","accordionContent","map","title","el","Number","target","value","description","handleBuy","alert","BIG"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Label, Li, Ul } from \"@src/components/styled\";\nimport Button from \"@src/components/ui/button/button\";\nimport { TitleSize } from \"@src/components/ui/title/title\";\nimport RadioButton from \"@src/components/ui/radio-button/radio-button\";\nimport { Accordion } from \"@src/components/ui/accordion/accordion\";\nimport {\n  StyledSection,\n  Price,\n  AccordionText,\n  RadioLabelForTime,\n  FormItem,\n  StyleTitle,\n  RadioLabelForType\n} from \"./styles\";\n\n// страница покупки\nfunction Buy({\n  // деструктутрируем buyOptions\n  buyOptions: { durationOptions = [], ticketOptions = [] }\n}) {\n  const canBuy = durationOptions.length && ticketOptions.length;\n  const [duration, setDuration] = useState(durationOptions[0]);\n  const [selectType, setSelectType] = useState(ticketOptions[0].id);\n\n  const type = ticketOptions.find((option) => option.id === selectType);\n  const price = duration * (type ? type.price : 0);\n\n  // преобразуем ticketOptions в данные для акардиона\n  const accordionContent =\n    canBuy &&\n    ticketOptions.map((option) => ({\n      id: option.id,\n      title: (\n        <RadioButton\n          labelComponent={RadioLabelForType}\n          selectValue={selectType}\n          value={option.id}\n          text={option.title}\n          onChange={(el) => {\n            setSelectType(Number(el.target.value));\n          }}\n        />\n      ),\n      description: option.description\n    }));\n\n  const handleBuy = () => {\n    alert(\n      `Спасибо за покупку.\n              Вы приобрели билет класса: ${type.title}.\n              Продолжительность посещения(часов): ${duration}.\n              Цена билета: ${price} руб.`\n    );\n  };\n\n  return (\n    <StyledSection>\n      <StyleTitle level={1} size={TitleSize.BIG}>\n        Купить билет\n      </StyleTitle>\n      {canBuy ? (\n        <Form $width={540}>\n          <FormItem>\n            <Label $margin={12}>Продолжительность (часов)</Label>\n            <Ul $isGridList $indent={12} $align=\"left\">\n              {durationOptions.map((option) => (\n                <Li key={option}>\n                  <RadioButton\n                    labelComponent={RadioLabelForTime}\n                    selectValue={duration}\n                    value={option}\n                    text={option}\n                    onChange={(el) => {\n                      setDuration(Number(el.target.value));\n                    }}\n                  />\n                </Li>\n              ))}\n            </Ul>\n          </FormItem>\n          <FormItem $bottom={22}>\n            <Label $margin={12}>Тип билета</Label>\n            <Accordion\n              textComponent={AccordionText}\n              content={accordionContent}\n              isHtml\n            />\n          </FormItem>\n          <Label $small $margin={6}>\n            Цена\n          </Label>\n          <Price>{price} руб.</Price>\n          <Button minWidth={460} onClick={handleBuy}>\n            Купить билет\n          </Button>\n        </Form>\n      ) : (\n        <p>Покупка билетов временно не доступна</p>\n      )}\n    </StyledSection>\n  );\n}\n\nexport default Buy;\n"]},"metadata":{},"sourceType":"module"}